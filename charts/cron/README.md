# cron

![Version: 0.0.0-alpha-5](https://img.shields.io/badge/Version-0.0.0--alpha--5-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 0.0.0](https://img.shields.io/badge/AppVersion-0.0.0-informational?style=flat-square)

A Helm "monochart" for deploying cron jobs

## Requirements

| Repository | Name | Version |
|------------|------|---------|
| https://portswigger-apps.github.io/helm-charts | infra | 0.0.0-alpha-11 |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| cron.args | string[] | `nil` | Arguments for the command |
| cron.command | string[] | `nil` | Command to run on the image. e.g [/bin/bash, my-script.sh] |
| cron.concurrencyPolicy | string | `"Allow"` | One of: Allow, Forbid and Replace. Allow - allows concurrently running cron jobs. Forbid - No concurrent runs, if last cron job hasn't finished then skip the new run Replace - Replace the currently running cron job with a new instance. |
| cron.parallelism | int | `1` | Number of pods of the cron job to start |
| cron.restartPolicy | string | `"OnFailure"` | One of: Never or OnFailure. Never - does not restart. OnFailure - will re-run the job if it fails |
| cron.retries | int | `0` | Number of retries on failure of job |
| cron.schedule | string | `"* * * * *"` | Cron formatted schedule for job. |
| cron.timeoutSeconds | int | `nil` | The maximum amount of time the job should run for in seconds. |
| env | object | `{}` | List of environment variables for job container. |
| global | object | `{"infra":{"postgres":{"multiAz":null,"name":"","size":null,"version":null},"s3Bucket":{"lifecycleRules":[{"expiration":[{"days":0}],"status":"Disabled"}],"name":""}},"serviceAccount":{"annotations":{},"automountServiceAccountToken":false,"enabled":true,"name":""}}` | Configuration for infra |
| global.infra.postgres | object | `{"multiAz":null,"name":"","size":null,"version":null}` | Postgres database configuration. Leave as null for no database. |
| global.infra.postgres.multiAz | string | `nil` | If database should be a multi-az deployment |
| global.infra.postgres.name | string | `""` | The database's name. |
| global.infra.postgres.size | string | `nil` | The instance size. Options: micro, small, medium, large or xlarge. |
| global.infra.postgres.version | string | `nil` | The postgres version to use. Options: 16.2, 15.6 or 14.11 |
| global.infra.s3Bucket | object | `{"lifecycleRules":[{"expiration":[{"days":0}],"status":"Disabled"}],"name":""}` | S3 Bucket configuration. Set to null for no s3 bucket. |
| global.infra.s3Bucket.lifecycleRules | list | `[{"expiration":[{"days":0}],"status":"Disabled"}]` | Lifecycle rules. See docs at https://marketplace.upbound.io/providers/upbound/provider-aws-s3/v1.2.1/resources/s3.aws.upbound.io/BucketLifecycleConfiguration/v1beta1#doc:spec-forProvider-rule The status field is required on the rule object. |
| global.infra.s3Bucket.name | string | `""` | Name of the bucket |
| global.serviceAccount | object | `{"annotations":{},"automountServiceAccountToken":false,"enabled":true,"name":""}` | Service account configuration. Configuration is required for accessing AWS resources |
| global.serviceAccount.automountServiceAccountToken | bool | `false` | If the service account token should be mounted into pods that use the service account |
| image.name | string | `"public.ecr.aws/nginx/nginx"` | The container image of your application |
| image.tag | string | `"alpine"` | The container tag that will be run |
| pod.annotations | object | `{}` |  |
| resources.cpu | string | `"100m"` | Requested CPU time for the pod |
| resources.memory | string | `"64Mi"` | Maximum memory usage for the pod |
| secretEnv | object | `{}` | Secret values that are mounted as environment variables. Formatted as ```<environment variable name>: <plain text value>``` |
| secretVolume | object | `{}` | Secret values that are mounted as a file to /secrets. Formatted as ```<file name>: <base64 encoded value>``` |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.13.1](https://github.com/norwoodj/helm-docs/releases/v1.13.1)
